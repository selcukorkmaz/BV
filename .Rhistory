result2 = result[complete.cases(result),]
write.table(result2, "~/Documents/Studies/tROC/Results/weibull_iAUC_Result.txt", quote = F, row.names = F, sep = "\t")
plot(as.factor(result2[,"n"]), result2[,"iAUC_RR2"], xlab = "Sample Size", ylab = "iAUC_RR2")
plot(as.factor(result2[,"r"]), result2[,"iAUC_RR2"], xlab = "Correlation", ylab = "iAUC_RR2")
plot(as.factor(result2[,"ch"]), result2[,"iAUC_RR2"], xlab = "Censor of Hazard", ylab = "iAUC_RR2")
result3 = as.data.frame(result2)
head(result3)
########### Sample Size ##################
m = tapply(result3$iAUC_RR2, result3$n, mean)
sd = tapply(result3$iAUC_RR2, result3$n, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_samplesize_vs_iAUC_RR2.png",width = 6, height = 4)
########### Correlation ##################
m = tapply(result3$iAUC_RR2, result3$r, mean)
sd = tapply(result3$iAUC_RR2, result3$r, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_correlation_vs_iAUC_RR2.png",width = 6, height = 4)
########### Cencor rate ##################
m = tapply(result3$iAUC_RR2, result3$ch, mean)
sd = tapply(result3$iAUC_RR2, result3$ch, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
# tgc$n <- factor(tgc$n, levels = c("4", "6", "8", "10", "12"))
tgc$n <- factor(tgc$n, levels = c("1e-04", "0.001", "0.01", "0.1"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_censorOfHazard_vs_iAUC_RR2.png",width = 6, height = 4)
plot(as.factor(result2[,"n"]), result2[,"iAUC_RR2"], xlab = "Sample Size", ylab = "iAUC_RR2")
plot(as.factor(result2[,"r"]), result2[,"iAUC_RR2"], xlab = "Correlation", ylab = "iAUC_RR2")
plot(as.factor(result2[,"ch"]), result2[,"iAUC_RR2"], xlab = "Censor of Hazard", ylab = "iAUC_RR2")
plot(as.factor(result2[,"n"]), result2[,"iAUC_RR1"], xlab = "Sample Size", ylab = "iAUC_RR2")
plot(as.factor(result2[,"r"]), result2[,"iAUC_RR1"], xlab = "Correlation", ylab = "iAUC_RR2")
plot(as.factor(result2[,"ch"]), result2[,"iAUC_RR1"], xlab = "Censor of Hazard", ylab = "iAUC_RR2")
########### Sample Size ##################
m = tapply(result3$iAUC_RR1, result3$n, mean)
sd = tapply(result3$iAUC_RR1, result3$n, sd)
n = as.factor(names(m))
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
########### Correlation ##################
m = tapply(result3$iAUC_RR1, result3$r, mean)
sd = tapply(result3$iAUC_RR1, result3$r, sd)
n = as.factor(names(m))
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
coxModel$linear.predictor
beta[b]
############################## Calculate iAUC weibull ##################################
library(survsim)
library(timeROC)
library(survival)
library(risksetROC)
setwd("~/Documents/Studies/tROC/datasets/weibull/")
n = c(20,50,100,250,500,1000)
r = c(-0.90,-0.50, -0.10, 0, 0.10, 0.50, 0.90)
ch = c("ch_0.1", "ch_0.01", "ch_0.001", "ch_1e-04")
ch_num = c(0.1, 0.01, 0.001, 0.0001)
beta = c(1,-1,2,-2)
nsim = 100
rowNumber = length(beta)*length(n)*length(r)*length(ch)*nsim
result = matrix(NA, ncol = 9, nrow = rowNumber)
colnames(result) = c("ID", "n", "r", "ch", "iAUC_TR1", "iAUC_TR2", "iAUC_RR1", "iAUC_RR2")
z = 0
for(i in 1:length(n)){
for(j in 1:length(r)){
for(k in 1:length(ch)){
for(b in 1:length(beta)){
path = paste0("~/Documents/Studies/tROC/datasets/weibull/n_", n[i], "/corr_",r[j],"/",ch[k],"/beta",beta[b],"/")
f = list.files(path)
for(l in 1:length(f)){
path2 = paste0(path, f[l])
sim.data = read.table(path2, header = T, sep = "\t")
if(sum(sim.data$Status) >1){
tempAUCtr1 <- timeROC(T=sim.data$Time, delta=sim.data$Status,marker=sim.data$x1,cause=1,
weighting="marginal",times=sort(sim.data$Time),iid = F)
tempAUCtr2 <- timeROC(T=sim.data$Time, delta=sim.data$Status,marker=sim.data$x1,cause=1,
other_markers=as.matrix(sim.data[,c("x2")]),
weighting="marginal",times=sort(sim.data$Time),iid = F)
aucs1 = tempAUCtr1$AUC[!is.na(tempAUCtr1$AUC)]
aucs2 = tempAUCtr2$AUC[!is.na(tempAUCtr2$AUC)]
if(length(aucs1) > 1 && length(aucs2) > 1){
times1 = tempAUCtr1$times[!is.na(tempAUCtr1$AUC)]
times2 = tempAUCtr2$times[!is.na(tempAUCtr2$AUC)]
survProbs1 = tempAUCtr1$survProb[!is.na(tempAUCtr1$AUC)]
survProbs2 = tempAUCtr2$survProb[!is.na(tempAUCtr2$AUC)]
tmax1 = max(times1)
tmax2 = max(times2)
iAUC_TR1 <- IntegrateAUC(aucs1, times1, survProbs1, tmax = tmax1)
iAUC_TR2 <- IntegrateAUC(aucs2, times2, survProbs2, tmax = tmax2)
}
coxModel <-
tryCatch(
coxph( Surv(sim.data$Time, sim.data$Status)~ x1 + x2, data = sim.data)
,error=function(e) e, warning=function(w) w)
if(!is(coxModel, "simpleWarning")){
tempAUCrr1 <-
tryCatch(
risksetAUC(Stime = sim.data$Time, entry=NULL, status=sim.data$Status,
marker = sim.data$x1, method="Cox",
span=NULL, order=1, window="asymmetric",
tmax = max(sim.data$Time), weight="rescale", plot=FALSE)
,error=function(e) e, warning=function(w) w)
if(is(tempAUCrr1, "simpleWarning")){
tempAUCrr1 <- risksetAUC(Stime = sim.data$Time, entry=NULL, status=sim.data$Status,
marker = sim.data$x1, method="Cox",
span=NULL, order=1, window="asymmetric",
tmax = max(sim.data$Time), weight="rescale", plot=FALSE)
}
tempAUCrr2 <-
tryCatch(
risksetAUC(Stime = sim.data$Time, entry=NULL, status=sim.data$Status,
marker = coxModel$linear.predictor, method="Cox",
span=NULL, order=1, window="asymmetric",
tmax = max(sim.data$Time), weight="rescale", plot=FALSE)
,error=function(e) e, warning=function(w) w)
if(is(tempAUCrr2, "simpleWarning")){
tempAUCrr2 <- risksetAUC(Stime = sim.data$Time, entry=NULL, status=sim.data$Status,
marker = coxModel$linear.predictor, method="Cox",
span=NULL, order=1, window="asymmetric",
tmax = max(sim.data$Time), weight="rescale", plot=FALSE)
}
iAUC_RR1 = ifelse(is(tempAUCrr1, "simpleError"), NA, tempAUCrr1$Cindex)
iAUC_RR2 = ifelse(is(tempAUCrr2, "simpleError"), NA, tempAUCrr2$Cindex)
}else{
iAUC_RR1 = NA
iAUC_RR2 = NA
}
print(z)
print(f[l])
z= z+1
result[z, 1] =  z
result[z, 2] =  n[i]
result[z, 3] =  r[j]
result[z, 4] =  ch_num[k]
result[z, 5] =  iAUC_TR1
result[z, 6] =  iAUC_TR2
result[z, 7] =  iAUC_RR1
result[z, 8] =  iAUC_RR2
result[z, 9] =  beta[b]
}
}
}
}
}
}
result2 = result[complete.cases(result),]
write.table(result2, "~/Documents/Studies/tROC/Results/weibull_iAUC_Result.txt", quote = F, row.names = F, sep = "\t")
plot(as.factor(result2[,"n"]), result2[,"iAUC_RR2"], xlab = "Sample Size", ylab = "iAUC_RR2")
plot(as.factor(result2[,"r"]), result2[,"iAUC_RR2"], xlab = "Correlation", ylab = "iAUC_RR2")
plot(as.factor(result2[,"ch"]), result2[,"iAUC_RR2"], xlab = "Censor of Hazard", ylab = "iAUC_RR2")
result3 = as.data.frame(result2)
head(result3)
########### Sample Size ##################
m = tapply(result3$iAUC_RR2, result3$n, mean)
sd = tapply(result3$iAUC_RR2, result3$n, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_samplesize_vs_iAUC_RR2.png",width = 6, height = 4)
########### Correlation ##################
m = tapply(result3$iAUC_RR2, result3$r, mean)
sd = tapply(result3$iAUC_RR2, result3$r, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_correlation_vs_iAUC_RR2.png",width = 6, height = 4)
########### Cencor rate ##################
m = tapply(result3$iAUC_RR2, result3$ch, mean)
sd = tapply(result3$iAUC_RR2, result3$ch, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
# tgc$n <- factor(tgc$n, levels = c("4", "6", "8", "10", "12"))
tgc$n <- factor(tgc$n, levels = c("1e-04", "0.001", "0.01", "0.1"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_censorOfHazard_vs_iAUC_RR2.png",width = 6, height = 4)
head(results2)
head(data['charge'] = self.charge)
head(result2)
head(result)
names(results2) = c("id","n", "r", "ch", "iAUC_TR1","iAUC_TR2","iAUC_RR1","iAUC_RR2", "beta")
result2 = result[complete.cases(result),]
names(results2) = c("id","n", "r", "ch", "iAUC_TR1","iAUC_TR2","iAUC_RR1","iAUC_RR2", "beta")
names(result2) = c("id","n", "r", "ch", "iAUC_TR1","iAUC_TR2","iAUC_RR1","iAUC_RR2", "beta")
plot(as.factor(result2[,"n"]), result2[,"iAUC_RR2"], xlab = "Sample Size", ylab = "iAUC_RR2")
plot(as.factor(result2[,"r"]), result2[,"iAUC_RR2"], xlab = "Correlation", ylab = "iAUC_RR2")
plot(as.factor(result2[,"ch"]), result2[,"iAUC_RR2"], xlab = "Censor of Hazard", ylab = "iAUC_RR2")
result3 = as.data.frame(result2)
result2[,"n"]
class(result2)
result2 = as.data.frame(result2)
plot(as.factor(result2[,"n"]), result2[,"iAUC_RR2"], xlab = "Sample Size", ylab = "iAUC_RR2")
class(result2)
head(result2)
names(result2) = c("id","n", "r", "ch", "iAUC_TR1","iAUC_TR2","iAUC_RR1","iAUC_RR2", "beta")
head(result2)
plot(as.factor(result2[,"n"]), result2[,"iAUC_RR2"], xlab = "Sample Size", ylab = "iAUC_RR2")
plot(as.factor(result2[,"r"]), result2[,"iAUC_RR2"], xlab = "Correlation", ylab = "iAUC_RR2")
plot(as.factor(result2[,"ch"]), result2[,"iAUC_RR2"], xlab = "Censor of Hazard", ylab = "iAUC_RR2")
result3 = as.data.frame(result2)
head(result3)
########### Sample Size ##################
m = tapply(result3$iAUC_RR2, result3$n, mean)
sd = tapply(result3$iAUC_RR2, result3$n, sd)
n = as.factor(names(m))
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
########### Correlation ##################
m = tapply(result3$iAUC_RR2, result3$r, mean)
sd = tapply(result3$iAUC_RR2, result3$r, sd)
n = as.factor(names(m))
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
########### Cencor rate ##################
m = tapply(result3$iAUC_RR2, result3$ch, mean)
sd = tapply(result3$iAUC_RR2, result3$ch, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
# tgc$n <- factor(tgc$n, levels = c("4", "6", "8", "10", "12"))
tgc$n <- factor(tgc$n, levels = c("1e-04", "0.001", "0.01", "0.1"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
########### Beta ##################
m = tapply(result3$iAUC_RR2, result3$beta, mean)
sd = tapply(result3$iAUC_RR2, result3$beta, sd)
n = as.factor(names(m))
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
splitResult = split(result3, result3$beta)
########### Sample Size ##################
beta1 = splitResult$`1`
########### Sample Size ##################
beta1 = splitResult$`1`
m = tapply(beta1$iAUC_RR2, beta1$n, mean)
sd = tapply(beta1$iAUC_RR2, beta1$n, sd)
n = as.factor(names(m))
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_samplesize_vs_iAUC_RR2_beta1.png",width = 6, height = 4)
########### Correlation ##################
m = tapply(beta1$iAUC_RR2, beta1$r, mean)
sd = tapply(beta1$iAUC_RR2, beta1$r, sd)
n = as.factor(names(m))
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_correlation_vs_iAUC_RR2_beta1.png",width = 6, height = 4)
########### Cencor rate ##################
m = tapply(beta1$iAUC_RR2, beta1$ch, mean)
sd = tapply(beta1$iAUC_RR2, beta1$ch, sd)
n = as.factor(names(m))
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
# tgc$n <- factor(tgc$n, levels = c("4", "6", "8", "10", "12"))
tgc$n <- factor(tgc$n, levels = c("1e-04", "0.001", "0.01", "0.1"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_censorOfHazard_vs_iAUC_RR2_beta1.png",width = 6, height = 4)
########### Beta ##################
m = tapply(beta1$iAUC_RR2, beta1$beta, mean)
########### Sample Size ##################
beta2 = splitResult$`2`
m = tapply(beta2$iAUC_RR2, beta2$n, mean)
sd = tapply(beta2$iAUC_RR2, beta2$n, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_samplesize_vs_iAUC_RR2_beta2.png",width = 6, height = 4)
########### Correlation ##################
m = tapply(beta2$iAUC_RR2, beta2$r, mean)
sd = tapply(beta2$iAUC_RR2, beta2$r, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_correlation_vs_iAUC_RR2_beta2.png",width = 6, height = 4)
########### Cencor rate ##################
m = tapply(beta2$iAUC_RR2, beta2$ch, mean)
sd = tapply(beta2$iAUC_RR2, beta2$ch, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
# tgc$n <- factor(tgc$n, levels = c("4", "6", "8", "10", "12"))
tgc$n <- factor(tgc$n, levels = c("1e-04", "0.001", "0.01", "0.1"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_censorOfHazard_vs_iAUC_RR2_beta2.png",width = 6, height = 4)
########### Sample Size ##################
beta-2 = splitResult$`-2`
m = tapply(beta-2$iAUC_RR2, beta-2$n, mean)
sd = tapply(beta-2$iAUC_RR2, beta-2$n, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_samplesize_vs_iAUC_RR2_beta-2.png",width = 6, height = 4)
########### Correlation ##################
m = tapply(beta-2$iAUC_RR2, beta-2$r, mean)
sd = tapply(beta-2$iAUC_RR2, beta-2$r, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_correlation_vs_iAUC_RR2_beta-2.png",width = 6, height = 4)
########### Cencor rate ##################
m = tapply(beta-2$iAUC_RR2, beta-2$ch, mean)
sd = tapply(beta-2$iAUC_RR2, beta-2$ch, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
# tgc$n <- factor(tgc$n, levels = c("4", "6", "8", "10", "12"))
tgc$n <- factor(tgc$n, levels = c("1e-04", "0.001", "0.01", "0.1"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_censorOfHazard_vs_iAUC_RR2_beta-2.png",width = 6, height = 4)
########### Sample Size ##################
beta-2 = splitResult$`-2`
m = tapply(beta-2$iAUC_RR2, beta-2$n, mean)
########### Sample Size ##################
beta_2 = splitResult$`-2`
m = tapply(beta_2$iAUC_RR2, beta_2$n, mean)
sd = tapply(beta_2$iAUC_RR2, beta_2$n, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_samplesize_vs_iAUC_RR2_beta_2.png",width = 6, height = 4)
########### Correlation ##################
m = tapply(beta_2$iAUC_RR2, beta_2$r, mean)
sd = tapply(beta_2$iAUC_RR2, beta_2$r, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_correlation_vs_iAUC_RR2_beta_2.png",width = 6, height = 4)
########### Cencor rate ##################
m = tapply(beta_2$iAUC_RR2, beta_2$ch, mean)
sd = tapply(beta_2$iAUC_RR2, beta_2$ch, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
# tgc$n <- factor(tgc$n, levels = c("4", "6", "8", "10", "12"))
tgc$n <- factor(tgc$n, levels = c("1e-04", "0.001", "0.01", "0.1"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_censorOfHazard_vs_iAUC_RR2_beta_2.png",width = 6, height = 4)
########### Sample Size ##################
beta_1 = splitResult$`-2`
m = tapply(beta_1$iAUC_RR2, beta_1$n, mean)
sd = tapply(beta_1$iAUC_RR2, beta_1$n, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("20", "50", "100", "250", "500", "1000"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Sample Size")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_samplesize_vs_iAUC_RR2_beta_1.png",width = 6, height = 4)
########### Correlation ##################
m = tapply(beta_1$iAUC_RR2, beta_1$r, mean)
sd = tapply(beta_1$iAUC_RR2, beta_1$r, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
tgc$n <- factor(tgc$n, levels = c("-0.9", "-0.5", "-0.1", "0", "0.1", "0.5", "0.9"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Correlation")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_correlation_vs_iAUC_RR2_beta_1.png",width = 6, height = 4)
########### Cencor rate ##################
m = tapply(beta_1$iAUC_RR2, beta_1$ch, mean)
sd = tapply(beta_1$iAUC_RR2, beta_1$ch, sd)
n = as.factor(names(m))
# plot(as.factor(data$Batch_Size),data$Precision)
tgc = cbind.data.frame(n,m,sd = sd)
head(tgc)
# tgc$n <- factor(tgc$n, levels = c("4", "6", "8", "10", "12"))
tgc$n <- factor(tgc$n, levels = c("1e-04", "0.001", "0.01", "0.1"))
library(ggplot2)
ggplot(tgc, aes(x=n, y=m)) +
geom_errorbar(aes(ymin=m-sd, ymax=m+sd), width=.1) +
geom_point() +theme_bw()+xlab("Cencor of Hazard")+ylab("iAUC_RR2")
ggsave("~/Documents/Studies/tROC/Results/weibull_censorOfHazard_vs_iAUC_RR2_beta_1.png",width = 6, height = 4)
shiny::runApp('~/Documents/Trakya Üniversitesi/Ölçme Değerlendirme/Başarı Analizleri/uygulama')
?library(keras)
?keras::loss_binary_crossentropy
51.2+24.4+3.5
25.46+10.91
14.55+24.55
55+55
44.5+25.5
21000*1.18
21000*0.18
21000+3780
